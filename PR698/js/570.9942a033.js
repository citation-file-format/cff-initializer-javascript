"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[570],{1182:(e,o,r)=>{r.r(o),r.d(o,{default:()=>I});var n=r(3673),t=r(2323);const s=(0,n.HX)("data-v-446fea76");(0,n.dD)("data-v-446fea76");const a=(0,n.Wm)("div",{id:"form-title"},[(0,n.Wm)("h1",{class:"page-title"}," Keywords ")],-1),d={id:"form-content"},l={class:"question"},i={class:"scroll-to-bottom-container"},c=(0,n.Wm)("span",{class:"bottom"},null,-1),u=(0,n.Uk)(" Add keyword ");(0,n.Cn)();const m=s(((e,o,r,m,w,y)=>{const v=(0,n.up)("q-icon"),p=(0,n.up)("Keyword"),k=(0,n.up)("q-btn"),h=(0,n.up)("q-banner"),f=(0,n.up)("InfoDialog");return(0,n.wg)(),(0,n.j4)(n.HY,null,[a,(0,n.Wm)("div",d,[(0,n.Wm)("h2",l,[(0,n.Uk)(" What keywords describe the "+(0,t.zw)(e.type)+"? ",1),(0,n.Wm)(v,{name:"ion-information-circle-outline",size:"24px",color:"primary",onClick:o[1]||(o[1]=o=>e.showKeywordsHelp=!0),style:{cursor:"pointer"}})]),(0,n.Wm)("div",i,[c,(0,n.Wm)("div",null,[((0,n.wg)(!0),(0,n.j4)(n.HY,null,(0,n.Ko)(e.keywords,((o,r)=>((0,n.wg)(),(0,n.j4)(p,{class:"q-mr-lg",key:r,keyword:o,index:r,"num-keywords":e.keywords.length,onMoveDown:o=>e.moveDown(r,e.keywords,e.setKeywords),onMoveUp:o=>e.moveUp(r,e.keywords,e.setKeywords),onRemovePressed:o=>e.removeKeyword(r),onUpdate:o=>e.setKeyword(r,o)},null,8,["keyword","index","num-keywords","onMoveDown","onMoveUp","onRemovePressed","onUpdate"])))),128))])]),(0,n.Wm)(k,{class:"q-mt-md q-mb-md",color:"primary","no-caps":"",style:{width:"max-content"},onClick:e.addKeyword},{default:s((()=>[u])),_:1},8,["onClick"]),e.keywordsErrors.length>0?((0,n.wg)(),(0,n.j4)(h,{key:0,class:["bg-warning","text-negative",e.keywordsErrors.length>0?"has-error":""]},{default:s((()=>[((0,n.wg)(!0),(0,n.j4)(n.HY,null,(0,n.Ko)(e.keywordsErrors,((e,o)=>((0,n.wg)(),(0,n.j4)("div",{key:o},(0,t.zw)(e),1)))),128))])),_:1},8,["class"])):(0,n.kq)("",!0),(0,n.Wm)(f,{modelValue:e.showKeywordsHelp,"onUpdate:modelValue":o[2]||(o[2]=o=>e.showKeywordsHelp=o),data:e.helpData.keywords},null,8,["modelValue","data"])])],64)}));var w=r(7996),y=r(1959),v=r(2064),p=r(6341);const k=(0,n.HX)("data-v-b6c27e94");(0,n.dD)("data-v-b6c27e94");const h={class:"keyword"},f={class:"keyword-input"};(0,n.Cn)();const b=k(((e,o,r,t,s,a)=>{const d=(0,n.up)("q-input"),l=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.j4)("div",h,[(0,n.Wm)("div",f,[(0,n.Wm)(d,{autofocus:"","bg-color":"white",dense:"",outlined:"",placeholder:"Type a keyword",class:e.validationErrors.length>0?"has-error":"","model-value":e.keyword,error:e.validationErrors.length>0,"error-message":e.validationErrors.join(", "),"onUpdate:modelValue":o[1]||(o[1]=o=>e.$emit("update",o))},null,8,["class","model-value","error","error-message"])]),(0,n.Wm)(l,{class:"keyword-btn",color:"blue",disable:0==e.index,icon:"ion-arrow-up",tabindex:"-1",onClick:o[2]||(o[2]=o=>e.$emit("moveUp"))},null,8,["disable"]),(0,n.Wm)(l,{class:"keyword-btn",color:"blue",disable:e.index==e.numKeywords-1,icon:"ion-arrow-down",tabindex:"-1",onClick:o[3]||(o[3]=o=>e.$emit("moveDown"))},null,8,["disable"]),(0,n.Wm)(l,{class:"keyword-btn",color:"negative",dense:"",icon:"delete",tabindex:"-1",title:"Remove",onClick:o[4]||(o[4]=o=>e.$emit("removePressed"))})])}));var g=r(8875);const K=(0,n.aZ)({name:"Keyword",props:{keyword:{type:String,default:""},index:{type:Number,required:!0},numKeywords:{type:Number,default:0}},setup(e){const{errors:o}=(0,g.V)(),r=(0,n.Fl)((()=>(0,w.R0)(e.index).filter((0,w.uY)(o.value)).map((e=>e.replace.message)))),t=(0,n.Fl)((()=>w._m.filter((0,w.uY)(o.value)).filter((0,w.uY)(o.value,(0,w.Uh)(e.index))).map((e=>e.replace.message)))),s=(0,n.Fl)((()=>[...r.value,...t.value]));return{validationErrors:s}},emits:["moveDown","moveUp","removePressed","update"]});var x=r(4842),W=r(8240),U=r(7518),D=r.n(U);K.render=b,K.__scopeId="data-v-b6c27e94";const q=K;D()(K,"components",{QInput:x.Z,QBtn:W.Z});var C=r(4009),E=r(1364),H=r(6513),Y=function(e,o,r,n){function t(e){return e instanceof r?e:new r((function(o){o(e)}))}return new(r||(r=Promise))((function(r,s){function a(e){try{l(n.next(e))}catch(o){s(o)}}function d(e){try{l(n["throw"](e))}catch(o){s(o)}}function l(e){e.done?r(e.value):t(e.value).then(a,d)}l((n=n.apply(e,o||[])).next())}))};const j=(0,n.aZ)({name:"ScreenKeywords",components:{InfoDialog:p.Z,Keyword:q},setup(){(0,n.ic)((()=>{const{setErrorStateScreenKeywords:e}=(0,H.v)();e(document.getElementsByClassName("has-error").length>0)}));const{keywords:e,setKeywords:o,type:r}=(0,E.Y)(),{errors:t}=(0,g.V)(),s=()=>Y(this,void 0,void 0,(function*(){let r;const t="";r=void 0===e.value?[t]:[...e.value,t],o(r),yield(0,n.Y3)(),(0,C.O)()})),a=r=>{if(void 0!==e.value){const n=[...e.value];n.splice(r,1),o(n),Array.isArray(n)&&0===n.length&&o(void 0)}},d=(r,n)=>{if(void 0!==e.value){const t=[...e.value];t[r]=n,o(t)}},l=(0,n.Fl)((()=>w.hM.filter((0,w.uY)(t.value)).map((e=>e.replace.message)))),i={keywords:{title:"keywords",url:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#keywords",description:`Keywords that describe the ${r.value}.`,examples:["keyword","other-keyword","Yet Another Keyword"]}};return{addKeyword:s,keywords:e,keywordsErrors:l,helpData:i,moveDown:v.v,moveUp:v.A,removeKeyword:a,setKeyword:d,setKeywords:o,showKeywordsHelp:(0,y.iH)(!1),type:r}}});var Z=r(4554),_=r(5607);j.render=m,j.__scopeId="data-v-446fea76";const I=j;D()(j,"components",{QIcon:Z.Z,QBtn:W.Z,QBanner:_.Z})}}]);
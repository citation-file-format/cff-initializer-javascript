"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[754],{9459:(e,o,a)=>{a.r(o),a.d(o,{default:()=>ne});var r=a(3673),n=a(2323);const t=(0,r.HX)("data-v-975a931c");(0,r.dD)("data-v-975a931c");const l={id:"metroline"},i={id:"form"},s=(0,r.Wm)("div",{id:"form-title"},[(0,r.Wm)("h1",{class:"page-title"}," Authors ")],-1),d={id:"form-content"},u={class:"question"},m=(0,r.Uk)(" Who are the author(s) of the work? "),c={class:"scroll-to-bottom-container"},v=(0,r.Wm)("span",{class:"bottom"},null,-1),f=(0,r.Uk)(" Add author "),p={id:"form-button-bar"};(0,r.Cn)();const h=t(((e,o,a,h,g,b)=>{const w=(0,r.up)("Stepper"),W=(0,r.up)("SchemaGuideLink"),x=(0,r.up)("AuthorCardViewing"),y=(0,r.up)("AuthorCardEditing"),k=(0,r.up)("q-btn"),E=(0,r.up)("q-banner"),A=(0,r.up)("StepperActions");return(0,r.wg)(),(0,r.j4)(r.HY,null,[(0,r.Wm)("div",l,[(0,r.Wm)(w)]),(0,r.Wm)("div",i,[s,(0,r.Wm)("div",d,[(0,r.Wm)("p",u,[m,(0,r.Wm)(W,{anchor:"#authors"})]),(0,r.Wm)("div",c,[v,(0,r.Wm)("div",null,[((0,r.wg)(!0),(0,r.j4)(r.HY,null,(0,r.Ko)(e.authors,((a,n)=>((0,r.wg)(),(0,r.j4)("div",{class:"q-mb-md q-mr-lg",key:n},[e.editingId!==n?((0,r.wg)(),(0,r.j4)(x,{key:0,index:n,author:a,"num-authors":e.authors.length,onEditPressed:()=>e.editingId=n,onMoveDown:o=>e.moveAuthorDown(n),onMoveUp:o=>e.moveAuthorUp(n)},null,8,["index","author","num-authors","onEditPressed","onMoveDown","onMoveUp"])):((0,r.wg)(),(0,r.j4)(y,(0,r.dG)({key:1,index:n,"num-authors":e.authors.length},a,{onUpdate:e.setAuthorField,onClosePressed:o[1]||(o[1]=()=>e.editingId=-1),onRemovePressed:e.removeAuthor,onMoveDown:o=>e.moveAuthorDown(n),onMoveUp:o=>e.moveAuthorUp(n)}),null,16,["index","num-authors","onUpdate","onRemovePressed","onMoveDown","onMoveUp"]))])))),128))])]),(0,r.Wm)(k,{class:"q-mt-md q-mb-md",color:"primary","no-caps":"",onClick:e.addAuthor},{default:t((()=>[f])),_:1},8,["onClick"]),e.authorsErrors.messages.length>0?((0,r.wg)(),(0,r.j4)(E,{key:0,class:"bg-warning text-negative"},{default:t((()=>[((0,r.wg)(!0),(0,r.j4)(r.HY,null,(0,r.Ko)(e.authorsErrors.messages,((e,o)=>((0,r.wg)(),(0,r.j4)("div",{key:o},(0,n.zw)(e),1)))),128))])),_:1})):(0,r.kq)("",!0)]),(0,r.Wm)("div",p,[(0,r.Wm)(A)])])],64)}));var g=a(1959),b=a(1622),w=a(3972),W=a(2334);const x=(0,r.HX)("data-v-6714efb4");(0,r.dD)("data-v-6714efb4");const y={class:"row"},k=(0,r.Uk)(" The person's given names "),E={class:"row"},A={class:"row"},U=(0,r.Uk)(" The person's last names, split into parts "),C={class:"row"},P={class:"row"},S=(0,r.Uk)(" The person's email address "),I={class:"row"},q={class:"row"},$=(0,r.Uk)(" The person's affiliation "),N=(0,r.Uk)(" The person's ORCID "),_={class:"row"};(0,r.Cn)();const D=x(((e,o,a,n,t,l)=>{const i=(0,r.up)("SchemaGuideLink"),s=(0,r.up)("q-label"),d=(0,r.up)("q-input"),u=(0,r.up)("q-btn"),m=(0,r.up)("q-card-actions"),c=(0,r.up)("q-card");return(0,r.wg)(),(0,r.j4)(c,{flat:"",bordered:"",class:"bg-formcard q-pa-md"},{default:x((()=>[(0,r.Wm)("div",y,[(0,r.Wm)(s,{class:"text-dark"},{default:x((()=>[k,(0,r.Wm)(i,{anchor:"#definitionspersongiven-names"})])),_:1})]),(0,r.Wm)("div",E,[(0,r.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"given-names",outlined:"",standout:"",title:"The person's given names.","model-value":e.givenNames,error:null!=e.givenNamesError,"error-message":e.givenNamesError,"onUpdate:modelValue":o[1]||(o[1]=o=>e.$emit("update","givenNames",o)),ref:"givenNamesRef"},null,8,["model-value","error","error-message"])]),(0,r.Wm)("div",A,[(0,r.Wm)(s,{class:"text-dark"},{default:x((()=>[U])),_:1})]),(0,r.Wm)("div",C,[(0,r.Wm)(d,{"bg-color":"white",class:"col-3",dense:"",label:"name-particle",outlined:"",standout:"",title:"The person's name particle, e.g., a nobiliary particle or a [preposition] meaning 'of' or 'from' (for example 'von' in 'Alexander von Humboldt').","model-value":e.nameParticle,error:null!=e.nameParticleError,"error-message":e.nameParticleError,"onUpdate:modelValue":o[2]||(o[2]=o=>e.$emit("update","nameParticle",o))},{default:x((()=>[(0,r.Wm)(i,{anchor:"#definitionspersonname-particle",class:"q-pt-sm"})])),_:1},8,["model-value","error","error-message"]),(0,r.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"family-names",outlined:"",standout:"",title:"The person's family names.","model-value":e.familyNames,error:null!=e.familyNamesError,"error-message":e.familyNamesError,"onUpdate:modelValue":o[3]||(o[3]=o=>e.$emit("update","familyNames",o))},{default:x((()=>[(0,r.Wm)(i,{anchor:"#definitionspersonfamily-names",class:"q-pt-sm"})])),_:1},8,["model-value","error","error-message"]),(0,r.Wm)(d,{"bg-color":"white",class:"col-3",dense:"",label:"name-suffix",outlined:"",standout:"",title:"The person's name suffix, e.g. 'Jr.' for Sammy Davis Jr. or 'III' for Frank Edwin Wright III.","model-value":e.nameSuffix,error:null!=e.nameSuffixError,"error-message":e.nameSuffixError,"onUpdate:modelValue":o[4]||(o[4]=o=>e.$emit("update","nameSuffix",o))},{default:x((()=>[(0,r.Wm)(i,{anchor:"#definitionspersonname-suffix",class:"q-pt-sm"})])),_:1},8,["model-value","error","error-message"])]),(0,r.Wm)("div",P,[(0,r.Wm)(s,{class:"text-dark"},{default:x((()=>[S,(0,r.Wm)(i,{anchor:"#definitionsperson-email"})])),_:1})]),(0,r.Wm)("div",I,[(0,r.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"email",outlined:"",standout:"",title:"The person's email address.",type:"email","model-value":e.email,error:null!=e.emailError,"error-message":e.emailError,"onUpdate:modelValue":o[5]||(o[5]=o=>e.$emit("update","email",o))},null,8,["model-value","error","error-message"])]),(0,r.Wm)("div",q,[(0,r.Wm)(s,{class:"text-dark col"},{default:x((()=>[$,(0,r.Wm)(i,{anchor:"#definitionsperson-affiliation"})])),_:1}),(0,r.Wm)(s,{class:"text-dark col"},{default:x((()=>[N,(0,r.Wm)(i,{anchor:"#definitionsperson-orcid"})])),_:1})]),(0,r.Wm)("div",_,[(0,r.Wm)(d,{"bg-color":"white",class:"col",dense:"",label:"affiliation",outlined:"",standout:"",title:"The person's affiliation.","model-value":e.affiliation,error:null!=e.affiliationError,"error-message":e.affiliationError,"onUpdate:modelValue":o[6]||(o[6]=o=>e.$emit("update","affiliation",o))},null,8,["model-value","error","error-message"]),(0,r.Wm)(d,{"bg-color":"white",class:"col",dense:"",hint:"Format: https://orcid.org/0000-0000-0000-0000",label:"orcid",outlined:"",standout:"",title:"The person's ORCID identifier.","model-value":e.orcid,error:null!=e.orcidError,"error-message":e.orcidError,"onUpdate:modelValue":o[7]||(o[7]=o=>e.$emit("update","orcid",o))},null,8,["model-value","error","error-message"])]),(0,r.Wm)(m,{align:"right"},{default:x((()=>[(0,r.Wm)(u,{color:"blue",dense:"",disable:0==e.index,icon:"ion-arrow-up",tabindex:"-1",onClick:o[8]||(o[8]=o=>e.$emit("moveUp"))},null,8,["disable"]),(0,r.Wm)(u,{color:"blue",dense:"",disable:e.index>=e.numAuthors-1,icon:"ion-arrow-down",tabindex:"-1",onClick:o[9]||(o[9]=o=>e.$emit("moveDown"))},null,8,["disable"]),(0,r.Wm)(u,{color:"negative",dense:"",icon:"delete",label:"Remove",onClick:o[10]||(o[10]=o=>e.$emit("removePressed"))}),(0,r.Wm)(u,{dense:"",icon:"done",label:"Done",onClick:o[11]||(o[11]=o=>e.$emit("closePressed"))})])),_:1})])),_:1})}));var Z=a(3281);const F=(0,r.aZ)({name:"AuthorCardEditing",props:{index:{type:Number,required:!0},givenNames:{type:String,default:""},nameParticle:{type:String,default:""},familyNames:{type:String,default:""},nameSuffix:{type:String,default:""},email:{type:String,default:""},affiliation:{type:String,default:""},orcid:{type:String,default:""},numAuthors:{type:Number,default:0}},setup(e){const o=(0,g.iH)(null);return(0,r.bv)((()=>{var e;null===(e=o.value)||void 0===e||e.focus()})),{givenNamesRef:o,givenNamesError:(0,r.Fl)((()=>(0,Z.I)({instancePath:`/authors/${e.index}/given-names`}))),nameParticleError:(0,r.Fl)((()=>(0,Z.I)({instancePath:`/authors/${e.index}/name-particle`}))),familyNamesError:(0,r.Fl)((()=>(0,Z.I)({instancePath:`/authors/${e.index}/family-names`}))),nameSuffixError:(0,r.Fl)((()=>(0,Z.I)({instancePath:`/authors/${e.index}/name-suffix`}))),emailError:(0,r.Fl)((()=>(0,Z.I)({instancePath:`/authors/${e.index}/email`}))),affiliationError:(0,r.Fl)((()=>(0,Z.I)({instancePath:`/authors/${e.index}/affiliation`}))),orcidError:(0,r.Fl)((()=>(0,Z.I)({instancePath:`/authors/${e.index}/orcid`})))}},emits:["closePressed","removePressed","update","moveUp","moveDown"],components:{SchemaGuideLink:b.Z}});var T=a(151),j=a(4842),H=a(9367),V=a(2165),z=a(7518),M=a.n(z);F.render=D,F.__scopeId="data-v-6714efb4";const Q=F;M()(F,"components",{QCard:T.Z,QInput:j.Z,QCardActions:H.Z,QBtn:V.Z});const R=(0,r.HX)("data-v-29b5a712");(0,r.dD)("data-v-29b5a712");const G={style:{"flex-grow":"1.0"}};(0,r.Cn)();const O=R(((e,o,a,t,l,i)=>{const s=(0,r.up)("q-btn"),d=(0,r.up)("q-card");return(0,r.wg)(),(0,r.j4)(d,{bordered:"",class:["bg-formcard",e.authorHasErrors?"red-border":""],flat:"",style:{display:"flex","flex-direction":"row"}},{default:R((()=>[(0,r.Wm)("div",G,[(0,r.Wm)("ul",null,[(0,r.Wm)("li",null,(0,n.zw)(e.author.givenNames)+" "+(0,n.zw)(e.author.nameParticle)+" "+(0,n.zw)(e.author.familyNames)+" "+(0,n.zw)(e.author.nameSuffix),1),(0,r.Wm)("li",null,(0,n.zw)(e.author.email),1),(0,r.Wm)("li",null,(0,n.zw)(e.author.affiliation)+" "+(0,n.zw)(e.author.orcid),1)])]),(0,r.Wm)("div",null,[(0,r.Wm)(s,{class:"author-button",color:"blue",disable:0==e.index,icon:"ion-arrow-up",tabindex:"-1",onClick:o[1]||(o[1]=o=>e.$emit("moveUp"))},null,8,["disable"]),(0,r.Wm)(s,{class:"author-button",color:"blue",disable:e.index>=e.numAuthors-1,icon:"ion-arrow-down",tabindex:"-1",onClick:o[2]||(o[2]=o=>e.$emit("moveDown"))},null,8,["disable"]),(0,r.Wm)(s,{class:"author-button",color:"primary",flat:"","hover-color":"negative",icon:"edit",title:"Edit",onClick:o[3]||(o[3]=o=>e.$emit("editPressed"))})])])),_:1},8,["class"])}));var Y=a(9152);const B=(0,r.aZ)({name:"AuthorCardViewing",props:{index:{type:Number,required:!0},author:{type:Object,required:!0},numAuthors:{type:Number,default:0}},setup(e){return{authorHasErrors:(0,r.Fl)((()=>(0,Y.T)(e.index)))}},emits:["editPressed","moveDown","moveUp"]});B.render=O,B.__scopeId="data-v-29b5a712";const L=B;M()(B,"components",{QCard:T.Z,QBtn:V.Z});var X=a(2064),J=a(1364),K=a(4009),ee=a(5093),oe=function(e,o,a,r){function n(e){return e instanceof a?e:new a((function(o){o(e)}))}return new(a||(a=Promise))((function(a,t){function l(e){try{s(r.next(e))}catch(o){t(o)}}function i(e){try{s(r["throw"](e))}catch(o){t(o)}}function s(e){e.done?a(e.value):n(e.value).then(l,i)}s((r=r.apply(e,o||[])).next())}))};const ae=(0,r.aZ)({name:"ScreenAuthors",components:{SchemaGuideLink:b.Z,Stepper:w.Z,StepperActions:W.Z,AuthorCardEditing:Q,AuthorCardViewing:L},setup(){const{authors:e,setAuthors:o}=(0,J.Y)(),a=(0,g.iH)(0),n=()=>oe(this,void 0,void 0,(function*(){let n;const t={};n=void 0===e.value?[t]:[...e.value,t],o(n),a.value=n.length-1,yield(0,r.Y3)(),(0,K.O)()})),t=()=>{if(void 0!==e.value){const r=[...e.value];r.splice(a.value,1),o(r),a.value=-1}},l=(r,n)=>{if(void 0!==e.value){const t=Object.assign({},e.value[a.value]);t[r]=""===n?void 0:n,e.value[a.value]=t,o(e.value)}},i=r=>{void 0!==e.value&&((0,X.A)(r,e.value,o),a.value===r&&r>0?a.value=a.value-1:a.value===r-1&&(a.value=a.value+1))},s=r=>{void 0!==e.value&&((0,X.v)(r,e.value,o),a.value===r&&r<e.value.length-1?a.value=a.value+1:a.value===r+1&&(a.value=a.value-1))};return{addAuthor:n,authors:e,editingId:a,moveAuthorDown:s,moveAuthorUp:i,removeAuthor:t,setAuthorField:l,authorsErrors:(0,r.Fl)((()=>(0,ee.e)(e.value)))}}});var re=a(5607);ae.render=h,ae.__scopeId="data-v-975a931c";const ne=ae;M()(ae,"components",{QBtn:V.Z,QBanner:re.Z})}}]);
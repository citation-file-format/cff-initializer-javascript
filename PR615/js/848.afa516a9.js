"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[848],{1475:(e,a,o)=>{o.r(a),o.d(a,{default:()=>se});var r=o(3673),t=o(2323);const n=(0,r.HX)("data-v-40497db4");(0,r.dD)("data-v-40497db4");const s={id:"form",class:"col-12 col-lg-5 col-md-4 col-sm-3"},l=(0,r.Wm)("div",{id:"form-title"},[(0,r.Wm)("h1",{class:"page-title"}," Authors ")],-1),i={id:"form-content"},u={class:"question"},d=(0,r.Uk)(" Who are the author(s) of the work? "),m={class:"scroll-to-bottom-container"},c=(0,r.Wm)("span",{class:"bottom"},null,-1),p=(0,r.Uk)(" Add author "),h={id:"form-button-bar"};(0,r.Cn)();const v=n(((e,a,o,v,f,g)=>{const b=(0,r.up)("Stepper"),w=(0,r.up)("SchemaGuideLink"),W=(0,r.up)("AuthorCardViewing"),y=(0,r.up)("AuthorCardEditing"),x=(0,r.up)("q-btn"),A=(0,r.up)("q-banner"),k=(0,r.up)("StepperActions");return(0,r.wg)(),(0,r.j4)(r.HY,null,[(0,r.Wm)(b),(0,r.Wm)("div",s,[l,(0,r.Wm)("div",i,[(0,r.Wm)("h2",u,[d,(0,r.Wm)(w,{anchor:"#authors"})]),(0,r.Wm)("div",m,[c,(0,r.Wm)("div",null,[((0,r.wg)(!0),(0,r.j4)(r.HY,null,(0,r.Ko)(e.authors,((o,t)=>((0,r.wg)(),(0,r.j4)("div",{class:"q-mb-md q-mr-lg",key:t},[e.editingId!==t?((0,r.wg)(),(0,r.j4)(W,{key:0,index:t,author:o,"num-authors":e.authors.length,onEditPressed:()=>e.editingId=t,onMoveDown:a=>e.moveAuthorDown(t),onMoveUp:a=>e.moveAuthorUp(t)},null,8,["index","author","num-authors","onEditPressed","onMoveDown","onMoveUp"])):((0,r.wg)(),(0,r.j4)(y,(0,r.dG)({key:1,index:t},o,{onUpdate:e.setAuthorField,onClosePressed:a[1]||(a[1]=()=>e.editingId=-1),onRemovePressed:e.removeAuthor}),null,16,["index","onUpdate","onRemovePressed"]))])))),128))])]),(0,r.Wm)(x,{class:"q-mt-md q-mb-md",color:"primary","data-cy":"btn-add-author","no-caps":"",onClick:e.addAuthor},{default:n((()=>[p])),_:1},8,["onClick"]),e.authorsErrors.length>0?((0,r.wg)(),(0,r.j4)(A,{key:0,class:["bg-warning","text-negative",e.authorsErrors.length>0?"has-error":""]},{default:n((()=>[((0,r.wg)(!0),(0,r.j4)(r.HY,null,(0,r.Ko)(e.authorsErrors,((e,a)=>((0,r.wg)(),(0,r.j4)("div",{key:a},(0,t.zw)(e),1)))),128))])),_:1},8,["class"])):(0,r.kq)("",!0)]),(0,r.Wm)("div",h,[(0,r.Wm)(k)])])],64)}));var f=o(7996),g=o(1959),b=o(2064);const w=(0,r.HX)("data-v-4badc410");(0,r.dD)("data-v-4badc410");const W={class:"row"},y={class:"subquestion"},x=(0,r.Uk)(" The person's given names "),A={class:"row"},k=(0,r.Wm)("div",{class:"row"},[(0,r.Wm)("h3",{class:"subquestion"}," The person's last names, split into parts ")],-1),C={class:"row"},E={class:"row"},S={class:"subquestion"},q=(0,r.Uk)(" The person's email address "),U={class:"row"},I={class:"row"},P={class:"subquestion col"},N=(0,r.Uk)(" The person's affiliation "),Z={class:"subquestion col"},j=(0,r.Uk)(" The person's ORCID "),_={class:"row"};(0,r.Cn)();const D=w(((e,a,o,t,n,s)=>{const l=(0,r.up)("SchemaGuideLink"),i=(0,r.up)("q-input"),u=(0,r.up)("q-btn"),d=(0,r.up)("q-card-actions"),m=(0,r.up)("q-card");return(0,r.wg)(),(0,r.j4)(m,{flat:"",bordered:"",class:"bg-formcard q-pa-md"},{default:w((()=>[(0,r.Wm)("div",W,[(0,r.Wm)("h3",y,[x,(0,r.Wm)(l,{anchor:"#definitionspersongiven-names"})])]),(0,r.Wm)("div",A,[(0,r.Wm)(i,{autofocus:"","bg-color":"white",class:"col","data-cy":"input-given-names",dense:"",label:"given-names",outlined:"",standout:"",title:"The person's given names.","model-value":e.givenNames,error:!1,"error-message":"","onUpdate:modelValue":a[1]||(a[1]=a=>e.$emit("update","givenNames",a)),ref:"givenNamesRef"},null,8,["model-value"])]),k,(0,r.Wm)("div",C,[(0,r.Wm)(i,{"bg-color":"white",class:"col-3","data-cy":"input-name-particle",dense:"",label:"name-particle",outlined:"",standout:"",title:"The person's name particle, e.g., a nobiliary particle or a [preposition] meaning 'of' or 'from' (for example 'von' in 'Alexander von Humboldt').","model-value":e.nameParticle,error:!1,"error-message":"","onUpdate:modelValue":a[2]||(a[2]=a=>e.$emit("update","nameParticle",a))},{default:w((()=>[(0,r.Wm)(l,{anchor:"#definitionspersonname-particle",class:"q-pt-sm"})])),_:1},8,["model-value"]),(0,r.Wm)(i,{"bg-color":"white",class:"col","data-cy":"input-family-names",dense:"",label:"family-names",outlined:"",standout:"",title:"The person's family names.","model-value":e.familyNames,error:!1,"error-message":"","onUpdate:modelValue":a[3]||(a[3]=a=>e.$emit("update","familyNames",a))},{default:w((()=>[(0,r.Wm)(l,{anchor:"#definitionspersonfamily-names",class:"q-pt-sm"})])),_:1},8,["model-value"]),(0,r.Wm)(i,{"bg-color":"white",class:"col-3","data-cy":"input-name-suffix",dense:"",label:"name-suffix",outlined:"",standout:"",title:"The person's name suffix, e.g. 'Jr.' for Sammy Davis Jr. or 'III' for Frank Edwin Wright III.","model-value":e.nameSuffix,error:!1,"error-message":"","onUpdate:modelValue":a[4]||(a[4]=a=>e.$emit("update","nameSuffix",a))},{default:w((()=>[(0,r.Wm)(l,{anchor:"#definitionspersonname-suffix",class:"q-pt-sm"})])),_:1},8,["model-value"])]),(0,r.Wm)("div",E,[(0,r.Wm)("h3",S,[q,(0,r.Wm)(l,{anchor:"#definitionspersonemail"})])]),(0,r.Wm)("div",U,[(0,r.Wm)(i,{"bg-color":"white",class:["col",e.emailErrors.length>0?"has-error":""],"data-cy":"input-email",dense:"",label:"email",outlined:"",standout:"",title:"The person's email address.",type:"email","model-value":e.email,error:e.emailErrors.length>0,"error-message":e.emailErrors.join(", "),"onUpdate:modelValue":a[5]||(a[5]=a=>e.$emit("update","email",a))},null,8,["model-value","class","error","error-message"])]),(0,r.Wm)("div",I,[(0,r.Wm)("h3",P,[N,(0,r.Wm)(l,{anchor:"#definitionspersonaffiliation"})]),(0,r.Wm)("h3",Z,[j,(0,r.Wm)(l,{anchor:"#definitionspersonorcid"})])]),(0,r.Wm)("div",_,[(0,r.Wm)(i,{"bg-color":"white",class:"col","data-cy":"input-affiliation",dense:"",label:"affiliation",outlined:"",standout:"",title:"The person's affiliation.","model-value":e.affiliation,error:!1,"error-message":"","onUpdate:modelValue":a[6]||(a[6]=a=>e.$emit("update","affiliation",a))},null,8,["model-value"]),(0,r.Wm)(i,{"bg-color":"white",class:["col",e.orcidErrors.length>0?"has-error":""],"data-cy":"input-orcid",dense:"",hint:"Format: https://orcid.org/0000-0000-0000-0000",label:"orcid",outlined:"",standout:"",title:"The person's ORCID identifier.","model-value":e.orcid,error:e.orcidErrors.length>0,"error-message":e.orcidErrors.join(", "),"onUpdate:modelValue":a[7]||(a[7]=a=>e.$emit("update","orcid",a))},null,8,["class","model-value","error","error-message"])]),(0,r.Wm)(d,{align:"right"},{default:w((()=>[(0,r.Wm)(u,{color:"negative","data-cy":"btn-remove",dense:"",icon:"delete",label:"Remove",onClick:a[8]||(a[8]=a=>e.$emit("removePressed"))}),(0,r.Wm)(u,{"data-cy":"btn-done",dense:"",icon:"done",label:"Done",onClick:a[9]||(a[9]=a=>e.$emit("closePressed"))})])),_:1})])),_:1})}));var V=o(1622),T=o(6513),Y=o(8875);const $=(0,r.aZ)({name:"AuthorCardEditing",props:{index:{type:Number,required:!0},givenNames:{type:String,default:""},nameParticle:{type:String,default:""},familyNames:{type:String,default:""},nameSuffix:{type:String,default:""},email:{type:String,default:""},affiliation:{type:String,default:""},orcid:{type:String,default:""}},setup(e){(0,r.ic)((()=>{const{setErrorStateScreenAuthors:e}=(0,T.v)();e(document.getElementsByClassName("has-error").length>0)}));const{errors:a}=(0,Y.V)(),o=(0,r.Fl)((()=>(0,f.r9)(e.index).filter((0,f.uY)(a.value)).map((e=>e.replace.message)))),t=(0,r.Fl)((()=>(0,f.CB)(e.index).filter((0,f.uY)(a.value)).map((e=>e.replace.message))));return{emailErrors:t,orcidErrors:o}},emits:["closePressed","removePressed","update"],components:{SchemaGuideLink:V.Z}});var F=o(151),B=o(4842),z=o(9367),H=o(2165),Q=o(7518),R=o.n(Q);$.render=D,$.__scopeId="data-v-4badc410";const G=$;R()($,"components",{QCard:F.Z,QInput:B.Z,QCardActions:z.Z,QBtn:H.Z});const L=(0,r.HX)("data-v-7773fae4");(0,r.dD)("data-v-7773fae4");const O={style:{"flex-grow":"1.0"}};(0,r.Cn)();const M=L(((e,a,o,n,s,l)=>{const i=(0,r.up)("q-btn"),u=(0,r.up)("q-card");return(0,r.wg)(),(0,r.j4)(u,{bordered:"",class:["bg-formcard",e.authorErrors.length>0?"red-border has-error":""],flat:"",style:{display:"flex","flex-direction":"row"}},{default:L((()=>[(0,r.Wm)("div",O,[(0,r.Wm)("ul",null,[(0,r.Wm)("li",null,(0,t.zw)(e.author.givenNames)+" "+(0,t.zw)(e.author.nameParticle)+" "+(0,t.zw)(e.author.familyNames)+" "+(0,t.zw)(e.author.nameSuffix),1),(0,r.Wm)("li",null,(0,t.zw)(e.author.email),1),(0,r.Wm)("li",null,(0,t.zw)(e.author.affiliation)+" "+(0,t.zw)(e.author.orcid),1)])]),(0,r.Wm)("div",null,[(0,r.Wm)(i,{class:"author-button",color:"blue",disable:0==e.index,icon:"ion-arrow-up",tabindex:"-1",onClick:a[1]||(a[1]=a=>e.$emit("moveUp"))},null,8,["disable"]),(0,r.Wm)(i,{class:"author-button",color:"blue",disable:e.index>=e.numAuthors-1,icon:"ion-arrow-down",tabindex:"-1",onClick:a[2]||(a[2]=a=>e.$emit("moveDown"))},null,8,["disable"]),(0,r.Wm)(i,{class:"author-button",color:"primary",flat:"","hover-color":"negative",icon:"edit",title:"Edit",onClick:a[3]||(a[3]=a=>e.$emit("editPressed"))})])])),_:1},8,["class"])})),X=(0,r.aZ)({name:"AuthorCardViewing",props:{index:{type:Number,required:!0},author:{type:Object,required:!0},numAuthors:{type:Number,default:0}},setup(e){(0,r.ic)((()=>{const{setErrorStateScreenAuthors:e}=(0,T.v)();e(document.getElementsByClassName("has-error").length>0)}));const{errors:a}=(0,Y.V)(),o=(0,r.Fl)((()=>(0,f.CB)(e.index).filter((0,f.uY)(a.value)).map((e=>e.replace.message)))),t=(0,r.Fl)((()=>(0,f.r9)(e.index).filter((0,f.uY)(a.value)).map((e=>e.replace.message)))),n=(0,r.Fl)((()=>f.Lf.filter((0,f.uY)(a.value)).filter((0,f.uY)(a.value,(0,f.Uh)(e.index))).map((e=>e.replace.message)))),s=(0,r.Fl)((()=>[...o.value,...t.value,...n.value]));return{authorErrors:s}},emits:["editPressed","moveDown","moveUp"]});X.render=M,X.__scopeId="data-v-7773fae4";const J=X;R()(X,"components",{QCard:F.Z,QBtn:H.Z});var K=o(1056),ee=o(2213),ae=o(4009),oe=o(1364),re=function(e,a,o,r){function t(e){return e instanceof o?e:new o((function(a){a(e)}))}return new(o||(o=Promise))((function(o,n){function s(e){try{i(r.next(e))}catch(a){n(a)}}function l(e){try{i(r["throw"](e))}catch(a){n(a)}}function i(e){e.done?o(e.value):t(e.value).then(s,l)}i((r=r.apply(e,a||[])).next())}))};const te=(0,r.aZ)({name:"ScreenAuthors",components:{SchemaGuideLink:V.Z,Stepper:K.Z,StepperActions:ee.Z,AuthorCardEditing:G,AuthorCardViewing:J},setup(){(0,r.ic)((()=>{const{setErrorStateScreenAuthors:e}=(0,T.v)();e(document.getElementsByClassName("has-error").length>0)}));const{authors:e,setAuthors:a}=(0,oe.Y)(),{errors:o}=(0,Y.V)(),t=(0,g.iH)(-1),n=()=>re(this,void 0,void 0,(function*(){const o={},n=[...e.value,o];a(n),t.value=n.length-1,yield(0,r.Y3)(),(0,ae.O)()})),s=()=>{const o=[...e.value];o.splice(t.value,1),a(o),t.value=-1},l=(o,r)=>{const n=Object.assign({},e.value[t.value]);n[o]=""===r?void 0:r,e.value[t.value]=n,a(e.value)},i=o=>{(0,b.A)(o,e.value,a),t.value===o&&o>0?t.value=t.value-1:t.value===o-1&&(t.value=t.value+1)},u=o=>{(0,b.v)(o,e.value,a),t.value===o&&o<e.value.length-1?t.value=t.value+1:t.value===o+1&&(t.value=t.value-1)},d=(0,r.Fl)((()=>f.p2.filter((0,f.uY)(o.value)).map((e=>e.replace.message))));return{addAuthor:n,authors:e,authorsErrors:d,editingId:t,moveAuthorDown:u,moveAuthorUp:i,removeAuthor:s,setAuthorField:l}}});var ne=o(5607);te.render=v,te.__scopeId="data-v-40497db4";const se=te;R()(te,"components",{QBtn:H.Z,QBanner:ne.Z})}}]);
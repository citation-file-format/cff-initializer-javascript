"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[769],{6147:(e,i,t)=>{t.r(i),t.d(i,{default:()=>M});var o=t(3673),r=t(2323);const n=(0,o.HX)("data-v-03692ef4");(0,o.dD)("data-v-03692ef4");const a=(0,o.Wm)("div",{id:"form-title"},[(0,o.Wm)("h1",{class:"page-title"}," Identifiers ")],-1),l={id:"form-content"},d={class:"question"},s={class:"scroll-to-bottom-container"},u=(0,o.Wm)("span",{class:"bottom"},null,-1),c=(0,o.Uk)(" Add identifier ");(0,o.Cn)();const p=n(((e,i,t,p,f,m)=>{const v=(0,o.up)("q-icon"),h=(0,o.up)("IdentifierCardViewing"),g=(0,o.up)("IdentifierCardEditing"),b=(0,o.up)("q-btn"),w=(0,o.up)("q-banner"),I=(0,o.up)("InfoDialog");return(0,o.wg)(),(0,o.j4)(o.HY,null,[a,(0,o.Wm)("div",l,[(0,o.Wm)("h2",d,[(0,o.Uk)(" What persistent identifiers are available for the "+(0,r.zw)(e.type)+"? ",1),(0,o.Wm)(v,{name:"ion-information-circle-outline",size:"24px",color:"primary",onClick:i[1]||(i[1]=i=>e.showIdentifiersHelp=!0),style:{cursor:"pointer"}})]),(0,o.Wm)("div",s,[u,(0,o.Wm)("div",null,[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(e.identifiers,((t,r)=>((0,o.wg)(),(0,o.j4)("div",{class:"q-mb-md q-mr-lg",key:r},[e.editingId!==r?((0,o.wg)(),(0,o.j4)(h,{key:0,index:r,identifier:t,"num-identifiers":e.identifiers.length,onEditPressed:()=>e.editingId=r,onMoveDown:i=>e.moveIdentifierDown(r),onMoveUp:i=>e.moveIdentifierUp(r),onRemovePressed:i=>e.removeIdentifier(r)},null,8,["index","identifier","num-identifiers","onEditPressed","onMoveDown","onMoveUp","onRemovePressed"])):((0,o.wg)(),(0,o.j4)(g,(0,o.dG)({key:1,index:r},t,{onUpdateType:e.setIdentifierTypeField,onUpdateValue:e.setIdentifierValueField,onUpdateDescription:e.setIdentifierDescriptionField,onClosePressed:i[2]||(i[2]=()=>e.editingId=-1),onRemovePressed:i[3]||(i[3]=i=>e.removeIdentifier(e.editingId))}),null,16,["index","onUpdateType","onUpdateValue","onUpdateDescription"]))])))),128))])]),(0,o.Wm)(b,{class:"q-mt-md q-mb-md",color:"primary","no-caps":"",onClick:e.addIdentifier},{default:n((()=>[c])),_:1},8,["onClick"]),e.identifiersErrors.length>0?((0,o.wg)(),(0,o.j4)(w,{key:0,class:["bg-warning","text-negative",e.identifiersErrors.length>0?"has-error":""]},{default:n((()=>[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(e.identifiersErrors,((e,i)=>((0,o.wg)(),(0,o.j4)("div",{key:i},(0,r.zw)(e),1)))),128))])),_:1},8,["class"])):(0,o.kq)("",!0),(0,o.Wm)(I,{modelValue:e.showIdentifiersHelp,"onUpdate:modelValue":i[4]||(i[4]=i=>e.showIdentifiersHelp=i),data:e.helpData.identifiers},null,8,["modelValue","data"])])],64)}));var f=t(7996),m=t(1959),v=t(2064);t(246);const h=(0,o.HX)("data-v-0bacd4cb");(0,o.dD)("data-v-0bacd4cb");const g={class:"items-center no-wrap"},b={class:"q-mt-md items-center no-wrap"},w={class:"row"},I={class:"subquestion"},y={class:"q-mt-md items-center no-wrap"},W={class:"row"},D={class:"subquestion"};(0,o.Cn)();const H=h(((e,i,t,n,a,l)=>{const d=(0,o.up)("q-option-group"),s=(0,o.up)("q-icon"),u=(0,o.up)("q-input"),c=(0,o.up)("q-card-section"),p=(0,o.up)("q-btn"),f=(0,o.up)("q-card-actions"),m=(0,o.up)("q-card"),v=(0,o.up)("InfoDialog");return(0,o.wg)(),(0,o.j4)(o.HY,null,[(0,o.Wm)(m,{flat:"",bordered:"",class:"bg-formcard q-pa-md"},{default:h((()=>[(0,o.Wm)(c,null,{default:h((()=>[(0,o.Wm)("div",g,[(0,o.Wm)(d,{inline:"",type:"radio","model-value":e.type,options:e.typeOptions,"onUpdate:modelValue":i[1]||(i[1]=i=>e.$emit("updateType","type",i))},null,8,["model-value","options"])]),(0,o.Wm)("div",b,[(0,o.Wm)("div",w,[(0,o.Wm)("h3",I,[(0,o.Uk)(" What is the value of the "+(0,r.zw)(e.label)+"? ",1),(0,o.Wm)(s,{name:"ion-information-circle-outline",size:"24px",color:"primary",onClick:i[2]||(i[2]=i=>e.showIdentifierHelp=!0),style:{cursor:"pointer"}})])]),(0,o.Wm)(u,{autofocus:"","bg-color":"white",label:"Value",outlined:"",standout:"",dense:"",class:e.identifierValueErrors.length>0?"has-error":"",error:e.identifierValueErrors.length>0,"error-message":e.identifierValueErrors.join(", "),"model-value":e.value,"onUpdate:modelValue":i[3]||(i[3]=i=>e.$emit("updateValue","value",i))},null,8,["class","error","error-message","model-value"])]),(0,o.Wm)("div",y,[(0,o.Wm)("div",W,[(0,o.Wm)("h3",D,[(0,o.Uk)(" What is the description for the "+(0,r.zw)(e.label)+"? ",1),(0,o.Wm)(s,{name:"ion-information-circle-outline",size:"24px",color:"primary",onClick:i[4]||(i[4]=i=>e.showDescriptionHelp=!0),style:{cursor:"pointer"}})])]),(0,o.Wm)(u,{"bg-color":"white",label:"Description",outlined:"",standout:"",dense:"","model-value":e.description,"onUpdate:modelValue":i[5]||(i[5]=i=>e.$emit("updateDescription","description",i))},null,8,["model-value"])])])),_:1}),(0,o.Wm)(f,{align:"right"},{default:h((()=>[(0,o.Wm)(p,{color:"negative",dense:"",icon:"delete",label:"Remove",onClick:i[6]||(i[6]=i=>e.$emit("removePressed"))}),(0,o.Wm)(p,{dense:"",icon:"done",label:"Done",onClick:i[7]||(i[7]=i=>e.$emit("closePressed"))})])),_:1})])),_:1}),(0,o.Wm)(v,{modelValue:e.showIdentifierHelp,"onUpdate:modelValue":i[8]||(i[8]=i=>e.showIdentifierHelp=i),data:e.helpData[e.identifierType]},null,8,["modelValue","data"]),(0,o.Wm)(v,{modelValue:e.showDescriptionHelp,"onUpdate:modelValue":i[9]||(i[9]=i=>e.showDescriptionHelp=i),data:e.helpData.description},null,8,["modelValue","data"])],64)}));var x=t(6341),U=t(1364),V=t(8875);const k=(0,o.aZ)({name:"IdentifierCardEditing",props:{index:{type:Number,required:!0},type:{type:String,default:""},value:{type:String,default:""},description:{type:String,default:""}},components:{InfoDialog:x.Z},setup(e){const{errors:i}=(0,V.V)(),{type:t}=(0,U.Y)(),r={doi:"DOI",url:"URL",swh:"Software Heritage identifier",other:"identifier"},n=(0,o.Fl)((()=>(0,f.lF)(e.index,["doi","url","swh","other"].indexOf(e.type)).filter((0,f.uY)(i.value)).map((e=>e.replace.message)).filter(f.Tw))),a={doi:{title:"doi",url:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionsdoi",description:`The DOI (https://en.wikipedia.org/wiki/Digital_object_identifier) of the ${t.value}.`,examples:["10.5281/zenodo.1003150"]},url:{title:"url",url:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionsurl",description:"A URL.",examples:["https://research-software-project.org","http://research-software-project.org","sftp://files.research-software-project.org","ftp://files.research-software-project.org"]},swh:{title:"swh",url:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionsswh-identifier",description:"The Software Heritage identifier (https://www.softwareheritage.org/).",examples:["swh:1:rev:309cf2674ee7a0749978cf8265ab91a60aea0f7d"]},other:{title:"other",url:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionsidentifier",description:"An identifier that does not fit in the other categories.",examples:["arXiv:2103.06681"]},description:{title:"description",url:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionsidentifier-description",description:"A description of the identifier.",examples:[`The concept DOI of the ${t.value}.`,"The URL of version 1.1.0 of the software","The Software Heritage link for version 1.1.0.","The ArXiv deposit of the encompassing paper."]}};return{helpData:a,typeOptions:[{label:"DOI",value:"doi"},{label:"URL",value:"url"},{label:"Software Heritage",value:"swh"},{label:"Other",value:"other"}],identifierType:(0,o.Fl)((()=>e.type)),label:(0,o.Fl)((()=>r[e.type])),identifierValueErrors:n,showDescriptionHelp:(0,m.iH)(!1),showIdentifierHelp:(0,m.iH)(!1)}},emits:["closePressed","removePressed","updateType","updateValue","updateDescription"]});var C=t(151),q=t(5589),j=t(7011),T=t(4554),E=t(4842),O=t(9367),Z=t(8240),F=t(7518),P=t.n(F);k.render=H,k.__scopeId="data-v-0bacd4cb";const S=k;P()(k,"components",{QCard:C.Z,QCardSection:q.Z,QOptionGroup:j.Z,QIcon:T.Z,QInput:E.Z,QCardActions:O.Z,QBtn:Z.Z});const _=(0,o.HX)("data-v-5d3d0a76");(0,o.dD)("data-v-5d3d0a76");const R={style:{"flex-grow":"1.0"}};(0,o.Cn)();const $=_(((e,i,t,n,a,l)=>{const d=(0,o.up)("q-btn"),s=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(s,{bordered:"",class:["bg-formcard",e.identifierErrors.length>0?"red-border has-error":""],flat:"",style:{display:"flex","flex-direction":"row"}},{default:_((()=>[(0,o.Wm)("div",R,[(0,o.Wm)("ul",null,[(0,o.Wm)("li",null,(0,r.zw)(e.identifier.description),1),(0,o.Wm)("li",null,(0,r.zw)(e.identifier.type)+": "+(0,r.zw)(e.identifier.value),1)])]),(0,o.Wm)("div",null,[(0,o.Wm)(d,{class:"identifier-button",color:"blue",disable:0==e.index,icon:"ion-arrow-up",tabindex:"-1",onClick:i[1]||(i[1]=i=>e.$emit("moveUp"))},null,8,["disable"]),(0,o.Wm)(d,{class:"identifier-button",color:"blue",disable:e.index>=e.numIdentifiers-1,icon:"ion-arrow-down",tabindex:"-1",onClick:i[2]||(i[2]=i=>e.$emit("moveDown"))},null,8,["disable"]),(0,o.Wm)(d,{class:"identifier-button",color:"primary",flat:"","hover-color":"negative",icon:"edit",title:"Edit",onClick:i[3]||(i[3]=i=>e.$emit("editPressed"))}),(0,o.Wm)(d,{class:"identifier-button",color:"negative","hover-color":"negative",icon:"delete",title:"Remove Identifier",onClick:i[4]||(i[4]=i=>e.$emit("removePressed"))})])])),_:1},8,["class"])})),z=(0,o.aZ)({name:"IdentifierCardViewing",props:{index:{type:Number,required:!0},identifier:{type:Object,required:!0},numIdentifiers:{type:Number,default:0}},setup(e){const{errors:i}=(0,V.V)(),t=(0,o.Fl)((()=>(0,f.lF)(e.index,["doi","url","swh","other"].indexOf(e.identifier.type)).filter((0,f.uY)(i.value)).map((e=>e.replace.message)))),r=(0,o.Fl)((()=>f.gp.filter((0,f.uY)(i.value)).filter((0,f.uY)(i.value,(0,f.Uh)(e.index))).map((e=>e.replace.message)))),n=(0,o.Fl)((()=>[...t.value,...r.value]));return{identifierErrors:n}},emits:["editPressed","moveDown","moveUp","removePressed"]});z.render=$,z.__scopeId="data-v-5d3d0a76";const Q=z;P()(z,"components",{QCard:C.Z,QBtn:Z.Z});var Y=t(4009),A=t(6513),L=function(e,i,t,o){function r(e){return e instanceof t?e:new t((function(i){i(e)}))}return new(t||(t=Promise))((function(t,n){function a(e){try{d(o.next(e))}catch(i){n(i)}}function l(e){try{d(o["throw"](e))}catch(i){n(i)}}function d(e){e.done?t(e.value):r(e.value).then(a,l)}d((o=o.apply(e,i||[])).next())}))};const X=(0,o.aZ)({name:"ScreenIdentifiers",components:{InfoDialog:x.Z,IdentifierCardEditing:S,IdentifierCardViewing:Q},setup(){(0,o.ic)((()=>{const{setErrorStateScreenIdentifiers:e}=(0,A.v)();e(document.getElementsByClassName("has-error").length>0)}));const{identifiers:e,setIdentifiers:i,type:t}=(0,U.Y)(),{errors:r}=(0,V.V)(),n=(0,m.iH)(-1),a=()=>L(this,void 0,void 0,(function*(){let t;const r={type:"doi",value:"",description:void 0};t=void 0===e.value?[r]:[...e.value,r],i(t),n.value=t.length-1,yield(0,o.Y3)(),(0,Y.O)()})),l=t=>{if(void 0!==e.value){const o=[...e.value];o.splice(t,1),i(o),t<n.value?n.value-=1:t===n.value&&(n.value=-1),Array.isArray(o)&&0===o.length&&i(void 0)}},d=(t,o)=>{if(void 0!==e.value){const t=Object.assign({},e.value[n.value]);t.description=""===o?void 0:o,e.value[n.value]=t,i(e.value)}},s=(t,o)=>{if(void 0!==e.value){const t=Object.assign({},e.value[n.value]);t.type=o,e.value[n.value]=t,i(e.value)}},u=(t,o)=>{if(void 0!==e.value){const t=Object.assign({},e.value[n.value]);t.value=o,e.value[n.value]=t,i(e.value)}},c=t=>{void 0!==e.value&&((0,v.A)(t,e.value,i),n.value===t&&t>0?n.value=n.value-1:n.value===t-1&&(n.value=n.value+1))},p=t=>{void 0!==e.value&&((0,v.v)(t,e.value,i),n.value===t&&t<e.value.length-1?n.value=n.value+1:n.value===t+1&&(n.value=n.value-1))},h=(0,o.Fl)((()=>f.I3.filter((0,f.uY)(r.value)).map((e=>e.replace.message)))),g={identifiers:{title:"identifiers",url:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#identifiers",description:`The identifiers of the ${t.value}, such as DOIs, Software Heritage deposits, and URLs for relevant objects.`,examples:[`DOI: 10.5281/zenodo.1003149 - The concept DOI of the ${t.value}`,"SWH: swh:1:dir:bc286860f423ea7ced246ba7458eef4b4541cf2d - The Software Heritage for version 1.1.0","URL: https://github.com/citation-file-format/citation-file-format/releases/tag/1.1.0 - The GitHub release URL of tag 1.1.0","OTHER: arXiv:2103.06681 - The ArXiv preprint of the paper"]}};return{addIdentifier:a,editingId:n,helpData:g,identifiers:e,identifiersErrors:h,moveIdentifierUp:c,moveIdentifierDown:p,removeIdentifier:l,setIdentifierDescriptionField:d,setIdentifierTypeField:s,setIdentifierValueField:u,showIdentifiersHelp:(0,m.iH)(!1),type:t}}});var B=t(5607);X.render=p,X.__scopeId="data-v-03692ef4";const M=X;P()(X,"components",{QIcon:T.Z,QBtn:Z.Z,QBanner:B.Z})}}]);
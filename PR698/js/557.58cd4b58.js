"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[557],{9683:(e,o,a)=>{a.r(o),a.d(o,{default:()=>le});var t=a(3673),l=a(2323);const i=(0,t.HX)("data-v-5b2e51d1");(0,t.dD)("data-v-5b2e51d1");const r=(0,t.Wm)("div",{id:"form-title"},[(0,t.Wm)("h1",{class:"page-title"}," Authors ")],-1),n={id:"form-content"},s={class:"question"},m={class:"scroll-to-bottom-container"},u=(0,t.Wm)("span",{class:"bottom"},null,-1),d=(0,t.Uk)(" Add author ");(0,t.Cn)();const c=i(((e,o,a,c,h,p)=>{const f=(0,t.up)("q-icon"),g=(0,t.up)("AuthorCardViewing"),v=(0,t.up)("AuthorCardEditing"),b=(0,t.up)("q-btn"),w=(0,t.up)("q-banner"),y=(0,t.up)("InfoDialog");return(0,t.wg)(),(0,t.j4)(t.HY,null,[r,(0,t.Wm)("div",n,[(0,t.Wm)("h2",s,[(0,t.Uk)(" Who are the author(s) of the "+(0,l.zw)(e.type)+"? ",1),(0,t.Wm)(f,{name:"ion-information-circle-outline",size:"24px",color:"primary",onClick:o[1]||(o[1]=o=>e.showAuthorsHelp=!0),style:{cursor:"pointer"}})]),(0,t.Wm)("div",m,[u,(0,t.Wm)("div",null,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.authors,((a,l)=>((0,t.wg)(),(0,t.j4)("div",{class:"q-mb-md q-mr-lg",key:l},[e.editingId!==l?((0,t.wg)(),(0,t.j4)(g,{key:0,index:l,author:a,"num-authors":e.authors.length,onEditPressed:()=>e.editingId=l,onMoveDown:o=>e.moveAuthorDown(l),onMoveUp:o=>e.moveAuthorUp(l),onRemovePressed:o=>e.removeAuthor(l)},null,8,["index","author","num-authors","onEditPressed","onMoveDown","onMoveUp","onRemovePressed"])):((0,t.wg)(),(0,t.j4)(v,(0,t.dG)({key:1,index:l},a,{onUpdate:e.setAuthorField,onClosePressed:o[2]||(o[2]=()=>e.editingId=-1),onRemovePressed:o[3]||(o[3]=o=>e.removeAuthor(e.editingId))}),null,16,["index","onUpdate"]))])))),128))])]),(0,t.Wm)(b,{class:"q-mt-md q-mb-md",color:"primary","data-cy":"btn-add-author","no-caps":"",onClick:e.addAuthor},{default:i((()=>[d])),_:1},8,["onClick"]),e.authorsErrors.length>0?((0,t.wg)(),(0,t.j4)(w,{key:0,class:["bg-warning","text-negative",e.authorsErrors.length>0?"has-error":""]},{default:i((()=>[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.authorsErrors,((e,o)=>((0,t.wg)(),(0,t.j4)("div",{key:o},(0,l.zw)(e),1)))),128))])),_:1},8,["class"])):(0,t.kq)("",!0),(0,t.Wm)(y,{modelValue:e.showAuthorsHelp,"onUpdate:modelValue":o[4]||(o[4]=o=>e.showAuthorsHelp=o),data:e.helpData.authors},null,8,["modelValue","data"])])],64)}));var h=a(7996),p=a(1959),f=a(2064);const g=(0,t.HX)("data-v-ba8bdeca");(0,t.dD)("data-v-ba8bdeca");const v={class:"row"},b={class:"subquestion"},w=(0,t.Uk)(" The person's given names "),y={class:"row"},W={class:"row"},x={class:"subquestion"},k=(0,t.Uk)(" The person's last names, split into parts "),D={class:"row"},C={class:"row"},H={class:"subquestion"},A=(0,t.Uk)(" The person's email address "),E={class:"row"},V={class:"row"},U={class:"subquestion col"},q=(0,t.Uk)(" The person's affiliation "),N={class:"subquestion col"},I=(0,t.Uk)(" The person's ORCID "),S={class:"row"};(0,t.Cn)();const T=g(((e,o,a,l,i,r)=>{const n=(0,t.up)("q-icon"),s=(0,t.up)("q-input"),m=(0,t.up)("q-btn"),u=(0,t.up)("q-card-actions"),d=(0,t.up)("q-card"),c=(0,t.up)("InfoDialog");return(0,t.wg)(),(0,t.j4)(t.HY,null,[(0,t.Wm)(d,{flat:"",bordered:"",class:"bg-formcard q-pa-md"},{default:g((()=>[(0,t.Wm)("div",v,[(0,t.Wm)("h3",b,[w,(0,t.Wm)(n,{name:"ion-information-circle-outline",size:"24px",color:"primary",onClick:o[1]||(o[1]=o=>e.showHelpDialogName=!0),style:{cursor:"pointer"}})])]),(0,t.Wm)("div",y,[(0,t.Wm)(s,{autofocus:"","bg-color":"white",class:"col",dense:"",label:"given-names",outlined:"",standout:"",title:"The person's given names.","model-value":e.givenNames,error:!1,"error-message":"","onUpdate:modelValue":o[2]||(o[2]=o=>e.$emit("update","givenNames",o))},null,8,["model-value"])]),(0,t.Wm)("div",W,[(0,t.Wm)("h3",x,[k,(0,t.Wm)(n,{name:"ion-information-circle-outline",size:"24px",color:"primary",onClick:o[3]||(o[3]=o=>e.showHelpDialogLastName=!0),style:{cursor:"pointer"}})])]),(0,t.Wm)("div",D,[(0,t.Wm)(s,{"bg-color":"white",class:"col-3",dense:"",label:"name-particle",outlined:"",standout:"",title:"The person's name particle, e.g., a nobiliary particle or a [preposition] meaning 'of' or 'from' (for example 'von' in 'Alexander von Humboldt').","model-value":e.nameParticle,error:!1,"error-message":"","onUpdate:modelValue":o[4]||(o[4]=o=>e.$emit("update","nameParticle",o))},null,8,["model-value"]),(0,t.Wm)(s,{"bg-color":"white",class:"col",dense:"",label:"family-names",outlined:"",standout:"",title:"The person's family names.","model-value":e.familyNames,error:!1,"error-message":"","onUpdate:modelValue":o[5]||(o[5]=o=>e.$emit("update","familyNames",o))},null,8,["model-value"]),(0,t.Wm)(s,{"bg-color":"white",class:"col-3",dense:"",label:"name-suffix",outlined:"",standout:"",title:"The person's name suffix, e.g. 'Jr.' for Sammy Davis Jr. or 'III' for Frank Edwin Wright III.","model-value":e.nameSuffix,error:!1,"error-message":"","onUpdate:modelValue":o[6]||(o[6]=o=>e.$emit("update","nameSuffix",o))},null,8,["model-value"])]),(0,t.Wm)("div",C,[(0,t.Wm)("h3",H,[A,(0,t.Wm)(n,{name:"ion-information-circle-outline",size:"24px",color:"primary",onClick:o[7]||(o[7]=o=>e.showHelpDialogEmail=!0),style:{cursor:"pointer"}})])]),(0,t.Wm)("div",E,[(0,t.Wm)(s,{"bg-color":"white",class:["col",e.emailErrors.length>0?"has-error":""],dense:"",label:"email",outlined:"",standout:"",title:"The person's email address.",type:"email","model-value":e.email,error:e.emailErrors.length>0,"error-message":e.emailErrors.join(", "),"onUpdate:modelValue":o[8]||(o[8]=o=>e.$emit("update","email",o))},null,8,["model-value","class","error","error-message"])]),(0,t.Wm)("div",V,[(0,t.Wm)("h3",U,[q,(0,t.Wm)(n,{name:"ion-information-circle-outline",size:"24px",color:"primary",onClick:o[9]||(o[9]=o=>e.showHelpDialogAffiliation=!0),style:{cursor:"pointer"}})]),(0,t.Wm)("h3",N,[I,(0,t.Wm)(n,{name:"ion-information-circle-outline",size:"24px",color:"primary",onClick:o[10]||(o[10]=o=>e.showHelpDialogOrcid=!0),style:{cursor:"pointer"}})])]),(0,t.Wm)("div",S,[(0,t.Wm)(s,{"bg-color":"white",class:"col",dense:"",label:"affiliation",outlined:"",standout:"",title:"The person's affiliation.","model-value":e.affiliation,error:!1,"error-message":"","onUpdate:modelValue":o[11]||(o[11]=o=>e.$emit("update","affiliation",o))},null,8,["model-value"]),(0,t.Wm)(s,{"bg-color":"white",class:["col",e.orcidErrors.length>0?"has-error":""],dense:"",hint:"Format: https://orcid.org/0000-0000-0000-0000",label:"orcid",mask:"https://orcid.org/####-####-####-###X",outlined:"",standout:"",title:"The person's ORCID identifier.","model-value":e.orcid,error:e.orcidErrors.length>0,"error-message":e.orcidErrors.join(", "),"onUpdate:modelValue":o[12]||(o[12]=o=>e.$emit("update","orcid",o))},null,8,["class","model-value","error","error-message"])]),(0,t.Wm)(u,{align:"right"},{default:g((()=>[(0,t.Wm)(m,{color:"negative",dense:"",icon:"delete",label:"Remove",onClick:o[13]||(o[13]=o=>e.$emit("removePressed"))}),(0,t.Wm)(m,{"data-cy":"btn-done",dense:"",icon:"done",label:"Done",onClick:o[14]||(o[14]=o=>e.$emit("closePressed"))})])),_:1})])),_:1}),(0,t.Wm)(c,{modelValue:e.showHelpDialogName,"onUpdate:modelValue":o[15]||(o[15]=o=>e.showHelpDialogName=o),data:e.helpData.name},null,8,["modelValue","data"]),(0,t.Wm)(c,{modelValue:e.showHelpDialogLastName,"onUpdate:modelValue":o[16]||(o[16]=o=>e.showHelpDialogLastName=o),data:e.helpData.lastName},null,8,["modelValue","data"]),(0,t.Wm)(c,{modelValue:e.showHelpDialogEmail,"onUpdate:modelValue":o[17]||(o[17]=o=>e.showHelpDialogEmail=o),data:e.helpData.email},null,8,["modelValue","data"]),(0,t.Wm)(c,{modelValue:e.showHelpDialogAffiliation,"onUpdate:modelValue":o[18]||(o[18]=o=>e.showHelpDialogAffiliation=o),data:e.helpData.affiliation},null,8,["modelValue","data"]),(0,t.Wm)(c,{modelValue:e.showHelpDialogOrcid,"onUpdate:modelValue":o[19]||(o[19]=o=>e.showHelpDialogOrcid=o),data:e.helpData.orcid},null,8,["modelValue","data"])],64)}));var P=a(6341),j=a(6513),z=a(8875);const Z=(0,t.aZ)({name:"AuthorCardEditing",components:{InfoDialog:P.Z},props:{index:{type:Number,required:!0},givenNames:{type:String,default:""},nameParticle:{type:String,default:""},familyNames:{type:String,default:""},nameSuffix:{type:String,default:""},email:{type:String,default:""},affiliation:{type:String,default:""},orcid:{type:String,default:""}},setup(e){(0,t.ic)((()=>{const{setErrorStateScreenAuthors:e}=(0,j.v)();e(document.getElementsByClassName("has-error").length>0)}));const{errors:o}=(0,z.V)(),a=(0,t.Fl)((()=>(0,h.r9)(e.index).filter((0,h.uY)(o.value)).map((e=>e.replace.message)))),l=(0,t.Fl)((()=>(0,h.CB)(e.index).filter((0,h.uY)(o.value)).map((e=>e.replace.message)))),i={name:{title:"given-names",url:[{text:"Click here to see the documentation for name.",link:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionspersongiven-names"}],description:"The person's given names.",examples:["Jane","John"]},lastName:{title:"name-particle, family-names, name-suffix",url:[{text:"Click here to see the documentation for name particle.",link:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionspersonname-particle"},{text:"Click here to see the documentation for family name.",link:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionspersonfamily-names"},{text:"Click here to see the documentation for name suffix.",link:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionspersonname-suffix"}],description:"The person's last names, split into parts.",examples:["name particle: von","family name: Doe","name suffix: Jr."]},email:{title:"email",url:[{text:"Click here to see the documentation for email.",link:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionspersonemail"}],description:"The person's email address.",examples:["mail@research-project.org"]},affiliation:{title:"affiliation",url:[{text:"Click here to see the documentation for affiliation.",link:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionspersonaffiliation"}],description:"The person's affiliation.",examples:["Netherlands eScience Center","German Aerospace Center (DLR)"]},orcid:{title:"orcid",url:[{text:"Click here to see the documentation for orcid.",link:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#definitionspersonorcid"},{text:"https://orcid.org",link:"https://orcid.org"}],description:"The person's ORCID identifier.",examples:["https://orcid.org/0000-0003-4925-7248"]}};return{emailErrors:l,helpData:i,orcidErrors:a,showHelpDialogLastName:(0,p.iH)(!1),showHelpDialogName:(0,p.iH)(!1),showHelpDialogEmail:(0,p.iH)(!1),showHelpDialogAffiliation:(0,p.iH)(!1),showHelpDialogOrcid:(0,p.iH)(!1)}},emits:["closePressed","removePressed","update"]});var Y=a(151),$=a(4554),F=a(4842),R=a(9367),_=a(8240),O=a(7518),Q=a.n(O);Z.render=T,Z.__scopeId="data-v-ba8bdeca";const B=Z;Q()(Z,"components",{QCard:Y.Z,QIcon:$.Z,QInput:F.Z,QCardActions:R.Z,QBtn:_.Z});const J=(0,t.HX)("data-v-68a45e56");(0,t.dD)("data-v-68a45e56");const L={style:{"flex-grow":"1.0"}};(0,t.Cn)();const M=J(((e,o,a,i,r,n)=>{const s=(0,t.up)("q-btn"),m=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(m,{bordered:"",class:["bg-formcard",e.authorErrors.length>0?"red-border has-error":""],flat:"",style:{display:"flex","flex-direction":"row"}},{default:J((()=>[(0,t.Wm)("div",L,[(0,t.Wm)("ul",null,[(0,t.Wm)("li",null,(0,l.zw)(e.author.givenNames)+" "+(0,l.zw)(e.author.nameParticle)+" "+(0,l.zw)(e.author.familyNames)+" "+(0,l.zw)(e.author.nameSuffix),1),(0,t.Wm)("li",null,(0,l.zw)(e.author.email),1),(0,t.Wm)("li",null,(0,l.zw)(e.author.affiliation)+" "+(0,l.zw)(e.author.orcid),1)])]),(0,t.Wm)("div",null,[(0,t.Wm)(s,{class:"author-button",color:"blue",disable:0==e.index,icon:"ion-arrow-up",tabindex:"-1",onClick:o[1]||(o[1]=o=>e.$emit("moveUp"))},null,8,["disable"]),(0,t.Wm)(s,{class:"author-button",color:"blue",disable:e.index>=e.numAuthors-1,icon:"ion-arrow-down",tabindex:"-1",onClick:o[2]||(o[2]=o=>e.$emit("moveDown"))},null,8,["disable"]),(0,t.Wm)(s,{class:"author-button",color:"primary",flat:"","hover-color":"negative",icon:"edit",title:"Edit",onClick:o[3]||(o[3]=o=>e.$emit("editPressed"))}),(0,t.Wm)(s,{class:"author-button",color:"negative","hover-color":"negative",icon:"delete",title:"Remove author",onClick:o[4]||(o[4]=o=>e.$emit("removePressed"))})])])),_:1},8,["class"])})),X=(0,t.aZ)({name:"AuthorCardViewing",props:{index:{type:Number,required:!0},author:{type:Object,required:!0},numAuthors:{type:Number,default:0}},setup(e){(0,t.ic)((()=>{const{setErrorStateScreenAuthors:e}=(0,j.v)();e(document.getElementsByClassName("has-error").length>0)}));const{errors:o}=(0,z.V)(),a=(0,t.Fl)((()=>(0,h.CB)(e.index).filter((0,h.uY)(o.value)).map((e=>e.replace.message)))),l=(0,t.Fl)((()=>(0,h.r9)(e.index).filter((0,h.uY)(o.value)).map((e=>e.replace.message)))),i=(0,t.Fl)((()=>h.Lf.filter((0,h.uY)(o.value)).filter((0,h.uY)(o.value,(0,h.Uh)(e.index))).map((e=>e.replace.message)))),r=(0,t.Fl)((()=>[...a.value,...l.value,...i.value]));return{authorErrors:r}},emits:["editPressed","moveDown","moveUp","removePressed"]});X.render=M,X.__scopeId="data-v-68a45e56";const G=X;Q()(X,"components",{QCard:Y.Z,QBtn:_.Z});var K=a(4009),ee=a(1364),oe=function(e,o,a,t){function l(e){return e instanceof a?e:new a((function(o){o(e)}))}return new(a||(a=Promise))((function(a,i){function r(e){try{s(t.next(e))}catch(o){i(o)}}function n(e){try{s(t["throw"](e))}catch(o){i(o)}}function s(e){e.done?a(e.value):l(e.value).then(r,n)}s((t=t.apply(e,o||[])).next())}))};const ae=(0,t.aZ)({name:"ScreenAuthors",components:{AuthorCardEditing:B,AuthorCardViewing:G,InfoDialog:P.Z},setup(){(0,t.ic)((()=>{const{setErrorStateScreenAuthors:e}=(0,j.v)();e(document.getElementsByClassName("has-error").length>0)}));const{authors:e,setAuthors:o,type:a}=(0,ee.Y)(),{errors:l}=(0,z.V)(),i=(0,p.iH)(-1),r=()=>oe(this,void 0,void 0,(function*(){const a={},l=[...e.value,a];o(l),i.value=l.length-1,yield(0,t.Y3)(),(0,K.O)()})),n=a=>{const t=[...e.value];t.splice(a,1),o(t),a<i.value?i.value-=1:a===i.value&&(i.value=-1)},s=(a,t)=>{const l=Object.assign({},e.value[i.value]);l[a]=""===t?void 0:t,e.value[i.value]=l,o(e.value)},m=a=>{(0,f.A)(a,e.value,o),i.value===a&&a>0?i.value=i.value-1:i.value===a-1&&(i.value=i.value+1)},u=a=>{(0,f.v)(a,e.value,o),i.value===a&&a<e.value.length-1?i.value=i.value+1:i.value===a+1&&(i.value=i.value-1)},d=(0,t.Fl)((()=>h.p2.filter((0,h.uY)(l.value)).map((e=>e.replace.message)))),c={authors:{title:"authors",url:[{text:"Click here to see the documentation for authors.",link:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#authors"},{text:"How to deal with unknown individual authors?",link:"https://github.com/citation-file-format/citation-file-format/blob/1.2.0/schema-guide.md#how-to-deal-with-unknown-individual-authors"}],description:"The authors of a software or dataset.",examples:[" given-names: Jane\n family-names: Doe",' name: "The Research Software project"',' given-names: John\n family-names: Doe\n name: "The Research Software project"']}};return{addAuthor:r,authors:e,authorsErrors:d,editingId:i,helpData:c,moveAuthorDown:u,moveAuthorUp:m,removeAuthor:n,setAuthorField:s,showAuthorsHelp:(0,p.iH)(!1),type:a}}});var te=a(5607);ae.render=c,ae.__scopeId="data-v-5b2e51d1";const le=ae;Q()(ae,"components",{QIcon:$.Z,QBtn:_.Z,QBanner:te.Z})}}]);
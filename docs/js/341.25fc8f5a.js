"use strict";(self["webpackChunkcffinit"]=self["webpackChunkcffinit"]||[]).push([[341],{6e3:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var n=i(3673);const d=(0,n.HX)("data-v-c37d8a12");(0,n.dD)("data-v-c37d8a12");const s={class:"q-pa-md col-flex"},l=(0,n.Wm)("div",{class:"q-gutter-md title-field text-dark"},[(0,n.Wm)("p",{class:"q-mt-xl page-title"}," Identifiers ")],-1),a=(0,n.Uk)(" Add identifier ");(0,n.Cn)();const r=d(((e,t,i,r,o,u)=>{const c=(0,n.up)("IdentifierViewCard"),p=(0,n.up)("IdentifierEditCard"),m=(0,n.up)("q-btn"),v=(0,n.up)("StepperActions");return(0,n.wg)(),(0,n.j4)(n.HY,null,[(0,n.Wm)("div",s,[l,((0,n.wg)(!0),(0,n.j4)(n.HY,null,(0,n.Ko)(e.identifiers,((i,d)=>((0,n.wg)(),(0,n.j4)("div",{key:d,class:"q-mb-md"},[e.editingId!==d?((0,n.wg)(),(0,n.j4)(c,{key:0,index:d,identifier:i,onEditPressed:()=>e.editingId=d},null,8,["index","identifier","onEditPressed"])):((0,n.wg)(),(0,n.j4)(p,(0,n.dG)({key:1,index:d},i,{onUpdateType:e.setIdentifierTypeField,onUpdateValue:e.setIdentifierValueField,onUpdateDescription:e.setIdentifierDescriptionField,onClosePressed:t[1]||(t[1]=()=>e.editingId=-1),onRemovePressed:e.removeIdentifier}),null,16,["index","onUpdateType","onUpdateValue","onUpdateDescription","onRemovePressed"]))])))),128)),(0,n.Wm)(m,{"no-caps":"",onClick:e.addIdentifier,color:"primary"},{default:d((()=>[a])),_:1},8,["onClick"])]),(0,n.Wm)(v)],64)}));var o=i(1959),u=i(415);i(246);const c={class:"row items-center no-wrap"},p={class:"q-gutter-md items-center no-wrap"},m={class:"q-gutter-md items-center no-wrap"};function v(e,t,i,d,s,l){const a=(0,n.up)("q-option-group"),r=(0,n.up)("q-input"),o=(0,n.up)("q-card-section"),u=(0,n.up)("q-btn"),v=(0,n.up)("q-card-actions"),f=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(f,{flat:"",bordered:"",class:"bg-formcard"},{default:(0,n.w5)((()=>[(0,n.Wm)(o,null,{default:(0,n.w5)((()=>[(0,n.Wm)("div",c,[(0,n.Wm)(a,{inline:"",type:"radio","model-value":e.type,options:e.typeOptions,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("updateType","type",t))},null,8,["model-value","options"])]),(0,n.Wm)("div",p,[(0,n.Wm)(r,{"bg-color":"white",label:"Value",outlined:"",standout:"",dense:"","model-value":e.value,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("updateValue","value",t)),rules:[e=>e&&e.length>3||"Please use minimum 3 characters"]},null,8,["model-value","rules"])]),(0,n.Wm)("div",m,[(0,n.Wm)(r,{"bg-color":"white",label:"Description",outlined:"",standout:"",dense:"","model-value":e.description,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("updateDescription","description",t)),rules:[e=>e&&e.length>3||"Please use minimum 3 characters"]},null,8,["model-value","rules"])])])),_:1}),(0,n.Wm)(v,{align:"between"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{icon:"delete",color:"negative",label:"Remove",dense:"",onClick:t[4]||(t[4]=t=>e.$emit("removePressed"))}),(0,n.Wm)(u,{icon:"close",label:"Close",dense:"",onClick:t[5]||(t[5]=t=>e.$emit("closePressed"))})])),_:1})])),_:1})}const f=(0,n.aZ)({name:"IdentifierEditCard",props:{index:{type:Number,required:!0},type:{type:String,default:""},value:{type:String,default:""},description:{type:String,default:""}},setup(){return{typeOptions:[{label:"DOI",value:"doi"},{label:"URL",value:"url"},{label:"Software Heritage",value:"swh"},{label:"Other",value:"other"}]}},emits:["closePressed","removePressed","updateType","updateValue","updateDescription"]});var w=i(151),g=i(5589),b=i(7011),y=i(1206),I=i(9367),W=i(8240),C=i(7518),q=i.n(C);f.render=v;const h=f;q()(f,"components",{QCard:w.Z,QCardSection:g.Z,QOptionGroup:b.Z,QInput:y.Z,QCardActions:I.Z,QBtn:W.Z});var k=i(2323);const Z={class:"row items-center no-wrap"},P={class:"col-11"},V={class:"text-subtitle1"},j={class:"text-subtitle1"},x={class:"text-subtitle1"},U={class:"col-1"};function Q(e,t,i,d,s,l){const a=(0,n.up)("q-btn"),r=(0,n.up)("q-card-section"),o=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(o,{flat:"",bordered:"",class:"bg-formcard",onMouseover:t[2]||(t[2]=t=>e.showEdit=!0),onMouseleave:t[3]||(t[3]=t=>e.showEdit=!1)},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)("div",Z,[(0,n.Wm)("div",P,[(0,n.Wm)("div",V,(0,k.zw)(e.identifier.type),1),(0,n.Wm)("div",j,(0,k.zw)(e.identifier.value),1),(0,n.Wm)("div",x,(0,k.zw)(e.identifier.description),1)]),(0,n.Wm)("div",U,[e.showEdit?((0,n.wg)(),(0,n.j4)(a,{key:0,color:"primary",round:"",flat:"",icon:"edit",onClick:t[1]||(t[1]=t=>e.$emit("editPressed"))})):(0,n.kq)("",!0)])])])),_:1})])),_:1})}const D=(0,n.aZ)({name:"IdentifierViewCard",props:{index:{type:Number,required:!0},identifier:{type:Object,required:!0}},setup(){const e=(0,o.iH)(!1);return{showEdit:e}},emits:["editPressed"]});D.render=Q;const E=D;q()(D,"components",{QCard:w.Z,QCardSection:g.Z,QBtn:W.Z});var O=i(1364);const S=(0,n.aZ)({name:"Identifiers",components:{StepperActions:u.Z,IdentifierEditCard:h,IdentifierViewCard:E},setup(){const{identifiers:e,setIdentifiers:t}=(0,O.Y)(),i=(0,o.iH)(-1);return{identifiers:e,editingId:i,setIdentifierTypeField(n,d){const s=Object.assign({},e.value[i.value]);s.type=d,e.value[i.value]=s,t(e.value)},setIdentifierValueField(n,d){const s=Object.assign({},e.value[i.value]);s.value=d,e.value[i.value]=s,t(e.value)},setIdentifierDescriptionField(n,d){const s=Object.assign({},e.value[i.value]);s.description=d,e.value[i.value]=s,t(e.value)},removeIdentifier(){const n=[...e.value];n.splice(i.value,1),t(n),i.value=-1},addIdentifier(){const n={type:"doi",value:"",description:""},d=[...e.value,n];t(d),i.value=d.length-1}}}});S.render=r,S.__scopeId="data-v-c37d8a12";const _=S;q()(S,"components",{QBtn:W.Z})}}]);